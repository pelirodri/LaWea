{"remainingRequest":"/Users/pelirodri/Documents/laweavuetesting/node_modules/ts-loader/index.js??ref--12-1!/Users/pelirodri/Documents/laweavuetesting/src/components/TheMainSection/TheMainSection.ts?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/pelirodri/Documents/laweavuetesting/src/components/TheMainSection/TheMainSection.ts","mtime":1567410531870},{"path":"/Users/pelirodri/Documents/laweavuetesting/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pelirodri/Documents/laweavuetesting/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { __decorate } from \"tslib\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport TheCodeEditor from \"../TheCodeEditor/TheCodeEditor.vue\";\nimport TheOutputManager from \"../TheOutputManager/TheOutputManager.vue\";\nimport TheInputManager from \"../TheInputManager/TheInputManager.vue\";\nimport TheErrorModal from \"../TheErrorModal/TheErrorModal.vue\";\nimport $ from \"jquery\";\nconst Worker = require(\"worker-loader!./test.worker\");\nvar Command;\n(function (Command) {\n    Command[\"maric\\u00F3n\"] = \"maric\\u00F3n\";\n    Command[\"maraco\"] = \"maraco\";\n    Command[\"we\\u00F3n\"] = \"we\\u00F3n\";\n    Command[\"aweonao\"] = \"aweonao\";\n    Command[\"maraca\"] = \"maraca\";\n    Command[\"chucha\"] = \"chucha\";\n    Command[\"puta\"] = \"puta\";\n    Command[\"pichula\"] = \"pichula\";\n    Command[\"tula\"] = \"tula\";\n    Command[\"pico\"] = \"pico\";\n    Command[\"ctm\"] = \"ctm\";\n    Command[\"qu\\u00E9we\\u00E1\"] = \"qu\\u00E9we\\u00E1\";\n    Command[\"ch\\u00FApala\"] = \"ch\\u00FApala\";\n    Command[\"br\\u00EDgido\"] = \"br\\u00EDgido\";\n    Command[\"perkin\"] = \"perkin\";\n    Command[\"mierda\"] = \"mierda\";\n})(Command || (Command = {}));\nlet TheMainSection = class TheMainSection extends Vue {\n    constructor() {\n        super(...arguments);\n        this.output = \"\";\n        this.input = \"\";\n        this.isInputDisabled = true;\n        this.errorMessage = \"\";\n    }\n    interpretLaWeá(code) {\n        // console.log(\"Wtf\");\n        try {\n            const worker = new Worker();\n            ;\n            worker.onmessage = (e) => {\n                console.log(e.data);\n            };\n            worker.postMessage(\"'Sup, motherfucker\");\n        }\n        catch (error) {\n            console.error(error);\n        }\n        this.output = this.input = \"\";\n        this.loopStartsLength = this.loopEndsLength = 0;\n        this.readCommandIndex = -1;\n        this.commands = [];\n        this.cells = [0n];\n        this.currentCell = 0;\n        this.isCopySet = false;\n        this.getCommands(code);\n        this.runCommands();\n    }\n    getCommands(code) {\n        let commandName = \"\";\n        let line = 1, col = 1;\n        let isComment = false;\n        for (let i = 0; i <= code.length; i++) {\n            if (code[i] === \"#\") {\n                isComment = true;\n            }\n            if (i === code.length || code[i].match(/\\s/) || code[i] === \"#\") {\n                if (commandName.length) {\n                    const command = this.getCommand(commandName, line, col - commandName.length);\n                    if (!command) {\n                        this.exitInterpreter(\"'\" +\n                            commandName +\n                            \"'\" +\n                            \" no es un comando válido, po, saco de weas (línea: \" +\n                            String(line) +\n                            \", columna: \" +\n                            String(col - commandName.length) +\n                            \")\");\n                    }\n                    this.commands.push(command);\n                    commandName = \"\";\n                }\n            }\n            else {\n                if (!isComment) {\n                    if (!\"abcdeghiklmnopqrtuwáéíóú\".split(\"\").includes(code[i])) {\n                        this.exitInterpreter(\"'\" +\n                            code[i] +\n                            \"'\" +\n                            \" no es parte de La Weá, tonto qlo (línea: \" +\n                            String(line) +\n                            \", columna: \" +\n                            String(col) + \")\");\n                    }\n                    if (commandName.length === 7) {\n                        this.exitInterpreter(\"Voh creís q yo soy weón, ctm? Te gustan largos, parece (línea: \" +\n                            String(line) +\n                            \", columna: \" +\n                            String(col - commandName.length) +\n                            \")\");\n                    }\n                    commandName += code[i];\n                }\n            }\n            if (code[i] === \"\\n\") {\n                line++;\n                col = 0;\n                isComment = false;\n            }\n            else {\n                col++;\n            }\n        }\n        if (this.loopStartsLength !== this.loopEndsLength) {\n            this.exitInterpreter(\"O te sobran pichulas o te faltan tulas\");\n        }\n    }\n    getCommand(commandName, line, col) {\n        if (Object.values(Command).includes(commandName)) {\n            if (commandName === Command.pichula) {\n                this.loopStartsLength++;\n            }\n            else if (commandName === Command.tula) {\n                if (this.loopEndsLength === this.loopStartsLength) {\n                    this.exitInterpreter(\"Se encontró una tula sin su respectiva pichula en la línea: \" +\n                        String(line) +\n                        \", columna: \" +\n                        String(col));\n                }\n                this.loopEndsLength++;\n            }\n            else if (commandName === Command.pico) {\n                if (this.loopStartsLength === this.loopEndsLength) {\n                    this.exitInterpreter(\"No debiste meter ese pico en la línea: \" +\n                        String(line) +\n                        \", columna: \" +\n                        String(col));\n                }\n            }\n            return commandName;\n        }\n        return null;\n    }\n    runCommands() {\n        for (let i = this.readCommandIndex !== -1 ? this.readCommandIndex : 0; i < this.commands.length; i++) {\n            switch (this.commands[i]) {\n                case Command.maricón:\n                    this.cells[this.currentCell]--;\n                    break;\n                case Command.maraco:\n                    this.cells[this.currentCell] -= 2n;\n                    break;\n                case Command.weón:\n                    this.cells[this.currentCell]++;\n                    break;\n                case Command.aweonao:\n                    this.cells[this.currentCell] += 2n;\n                    break;\n                case Command.maraca:\n                    this.cells[this.currentCell] = 0n;\n                    break;\n                case Command.chucha:\n                    if (!this.currentCell) {\n                        this.exitInterpreter(\"Te saliste pa la izquierda, aweonao\");\n                    }\n                    this.currentCell--;\n                    break;\n                case Command.puta:\n                    if (++this.currentCell === this.cells.length) {\n                        this.cells[this.currentCell] = 0n;\n                    }\n                    break;\n                case Command.pichula:\n                    if (!this.cells[this.currentCell]) {\n                        i = this.findLoopEnd(this.commands, i);\n                    }\n                    break;\n                case Command.tula:\n                    if (this.cells[this.currentCell]) {\n                        i = this.findLoopStart(this.commands, i);\n                    }\n                    break;\n                case Command.pico:\n                    i = this.findLoopEnd(this.commands, i);\n                    break;\n                case Command.ctm:\n                    if (this.cells[this.currentCell] >= 0x0 && this.cells[this.currentCell] <= 0x10FFFF) {\n                        this.output += String.fromCodePoint(Number(this.cells[this.currentCell]));\n                        break;\n                    }\n                    else {\n                        this.output += \"?\";\n                    }\n                    break;\n                case Command.quéweá:\n                    if (this.readCommandIndex !== -1) {\n                        this.isInputDisabled = true;\n                        this.readCommandIndex = -1;\n                        if (this.input.length === 1 || this.input.length === 2) {\n                            const codePoint = this.input.codePointAt(0);\n                            if (this.input.length === 1 || codePoint >= 0x10000) {\n                                this.cells[this.currentCell] = BigInt(codePoint);\n                                break;\n                            }\n                        }\n                        this.cells[this.currentCell] = 0n;\n                    }\n                    else {\n                        this.isInputDisabled = false;\n                        this.readCommandIndex = i;\n                        return;\n                    }\n                    break;\n                case Command.chúpala:\n                    this.output += this.cells[this.currentCell].toString();\n                    break;\n                case Command.brígido:\n                    if (this.readCommandIndex !== -1) {\n                        this.isInputDisabled = true;\n                        this.readCommandIndex = -1;\n                        if (this.input.match(/^-?\\d{1,19}$/)) {\n                            const bigInput = BigInt(this.input);\n                            if (bigInput >= -9223372036854775808n && bigInput <= 9223372036854775807n) {\n                                this.cells[this.currentCell] = bigInput;\n                                break;\n                            }\n                        }\n                        this.cells[this.currentCell] = 0n;\n                    }\n                    else {\n                        this.isInputDisabled = false;\n                        this.readCommandIndex = i;\n                        return;\n                    }\n                    break;\n                case Command.perkin:\n                    if (this.isCopySet) {\n                        this.cells[this.currentCell] = this.cellValueCopy;\n                        this.isCopySet = false;\n                    }\n                    else {\n                        this.cellValueCopy = this.cells[this.currentCell];\n                        this.isCopySet = true;\n                    }\n                    break;\n                case Command.mierda:\n                    return;\n            }\n        }\n    }\n    findLoopStart(commands, i) {\n        for (let j = i - 1, loopLevel = 1; j >= 0; j--) {\n            if (commands[j] === \"tula\") {\n                loopLevel++;\n            }\n            else if (commands[j] === \"pichula\") {\n                loopLevel--;\n            }\n            if (!loopLevel) {\n                return j;\n            }\n        }\n        return -1;\n    }\n    findLoopEnd(commands, i) {\n        for (let j = i + 1, loopLevel = 1; j < commands.length; j++) {\n            if (commands[j] === \"pichula\") {\n                loopLevel++;\n            }\n            else if (commands[j] === \"tula\") {\n                loopLevel--;\n            }\n            if (!loopLevel) {\n                return j;\n            }\n        }\n        return -1;\n    }\n    exitInterpreter(errorMessage) {\n        this.errorMessage = errorMessage;\n        $(\"#error-modal\").modal();\n        throw new Error(errorMessage);\n    }\n};\nTheMainSection = __decorate([\n    Component({\n        components: {\n            TheCodeEditor,\n            TheOutputManager,\n            TheInputManager,\n            TheErrorModal\n        }\n    })\n], TheMainSection);\nexport default TheMainSection;\n",{"version":3,"file":"/Users/pelirodri/Documents/laweavuetesting/src/components/TheMainSection/TheMainSection.ts","sourceRoot":"","sources":["/Users/pelirodri/Documents/laweavuetesting/src/components/TheMainSection/TheMainSection.ts?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["import { Component, Vue } from \"vue-property-decorator\";\n\nimport TheCodeEditor from \"../TheCodeEditor/TheCodeEditor.vue\";\nimport TheOutputManager from \"../TheOutputManager/TheOutputManager.vue\";\nimport TheInputManager from \"../TheInputManager/TheInputManager.vue\";\nimport TheErrorModal from \"../TheErrorModal/TheErrorModal.vue\";\n\nimport $ from \"jquery\";\n\nconst Worker = require(\"worker-loader!./test.worker\");\n\nenum Command {\n\tmaricón = \"maricón\",\n\tmaraco = \"maraco\",\n\tweón = \"weón\",\n\taweonao = \"aweonao\",\n\tmaraca = \"maraca\",\n\tchucha = \"chucha\",\n\tputa = \"puta\",\n\tpichula = \"pichula\",\n\ttula = \"tula\",\n\tpico = \"pico\",\n\tctm = \"ctm\",\n\tquéweá = \"quéweá\",\n\tchúpala = \"chúpala\",\n\tbrígido = \"brígido\",\n\tperkin = \"perkin\",\n\tmierda = \"mierda\"\n}\n\n@Component({\n\tcomponents: {\n\t\tTheCodeEditor,\n\t\tTheOutputManager,\n\t\tTheInputManager,\n\t\tTheErrorModal\n\t}\n})\nexport default class TheMainSection extends Vue {\n\toutput = \"\";\n\tinput = \"\";\n\n\tisInputDisabled = true;\n\n\terrorMessage = \"\";\n\n\tloopStartsLength!: number;\n\tloopEndsLength!: number;\n\n\tprivate readCommandIndex!: number;\n\n\tprivate commands!: Command[];\n\n\tprivate cells!: bigint[];\n\tprivate currentCell!: number;\n\n\tprivate isCopySet!: boolean;\n\tprivate cellValueCopy!: bigint;\n\n\tinterpretLaWeá(code: string): void {\n\t\t// console.log(\"Wtf\");\n\n\t\ttry {\n\t\t\tconst worker = new Worker();;\n\n\t\t\tworker.onmessage = (e: any) => {\n\t\t\t\tconsole.log(e.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(\"'Sup, motherfucker\");\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\n\t\tthis.output = this.input = \"\";\n\n\t\tthis.loopStartsLength = this.loopEndsLength = 0;\n\n\t\tthis.readCommandIndex = -1;\n\n\t\tthis.commands = [];\n\n\t\tthis.cells = [0n];\n\t\tthis.currentCell = 0;\n\n\t\tthis.isCopySet = false;\n\n\t\tthis.getCommands(code);\n\t\tthis.runCommands();\n\t}\n\n\tgetCommands(code: string): void {\t\n\t\tlet commandName = \"\";\n\t\tlet line = 1, col = 1;\n\t\tlet isComment = false;\n\t\t\t\t\n\t\tfor (let i = 0; i <= code.length; i++) {\t\t\t\t\t\t\t\t\t\n\t\t\tif (code[i] === \"#\") {\n\t\t\t\tisComment = true;\n\t\t\t}\n\t\t\t\n\t\t\tif (i === code.length || code[i].match(/\\s/) || code[i] === \"#\") {\n\t\t\t\tif (commandName.length) {\n\t\t\t\t\tconst command = this.getCommand(commandName, line, col - commandName.length);\n\n\t\t\t\t\tif (!command) {\n\t\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\t\"'\" +\n\t\t\t\t\t\t\tcommandName +\n\t\t\t\t\t\t\t\"'\" +\n\t\t\t\t\t\t\t\" no es un comando válido, po, saco de weas (línea: \" +\n\t\t\t\t\t\t\tString(line) +\n\t\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\t\tString(col - commandName.length) +\n\t\t\t\t\t\t\t\")\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.commands.push(command!);\n\t\t\t\t\tcommandName = \"\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!isComment) {\n\t\t\t\t\tif (!\"abcdeghiklmnopqrtuwáéíóú\".split(\"\").includes(code[i])) {\n\t\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\t\"'\" +\n\t\t\t\t\t\t\tcode[i] +\n\t\t\t\t\t\t\t\"'\" +\n\t\t\t\t\t\t\t\" no es parte de La Weá, tonto qlo (línea: \" +\n\t\t\t\t\t\t\tString(line) +\n\t\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\t\tString(col) + \")\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (commandName.length === 7) {\n\t\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\t\"Voh creís q yo soy weón, ctm? Te gustan largos, parece (línea: \" +\n\t\t\t\t\t\t\tString(line) +\n\t\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\t\tString(col - commandName.length) +\n\t\t\t\t\t\t\t\")\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcommandName += code[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (code[i] === \"\\n\") {\n\t\t\t\tline++;\n\t\t\t\tcol = 0;\n\t\t\t\t\n\t\t\t\tisComment = false;\n\t\t\t} else {\n\t\t\t\tcol++;\n\t\t\t}\n\t\t}\n\n\t\tif (this.loopStartsLength !== this.loopEndsLength) {\n\t\t\tthis.exitInterpreter(\"O te sobran pichulas o te faltan tulas\");\n\t\t}\t\n\t}\n\n\tgetCommand(commandName: string, line: number, col: number): Command | null {\n\t\tif ((Object.values(Command) as string[]).includes(commandName)) {\n\t\t\tif (commandName === Command.pichula) {\n\t\t\t\tthis.loopStartsLength++;\n\t\t\t} else if (commandName === Command.tula) {\n\t\t\t\tif (this.loopEndsLength === this.loopStartsLength) {\n\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\"Se encontró una tula sin su respectiva pichula en la línea: \" + \n\t\t\t\t\t\tString(line) + \n\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\tString(col)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tthis.loopEndsLength++;\n\t\t\t} else if (commandName === Command.pico) {\n\t\t\t\tif (this.loopStartsLength === this.loopEndsLength) {\n\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\"No debiste meter ese pico en la línea: \" +\n\t\t\t\t\t\tString(line) +\n\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\tString(col)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn commandName as Command;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\trunCommands(): void {\n\t\tfor (let i = this.readCommandIndex !== -1 ? this.readCommandIndex : 0; i < this.commands.length; i++) {\t\t\t\t\t\t\t\t\t\n\t\t\tswitch (this.commands[i]) {\n\t\t\t\tcase Command.maricón:\n\t\t\t\t\tthis.cells[this.currentCell]--;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.maraco:\n\t\t\t\t\tthis.cells[this.currentCell] -= 2n;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.weón:\n\t\t\t\t\tthis.cells[this.currentCell]++;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.aweonao:\n\t\t\t\t\tthis.cells[this.currentCell] += 2n;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.maraca:\n\t\t\t\t\tthis.cells[this.currentCell] = 0n;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.chucha:\n\t\t\t\t\tif (!this.currentCell) {\n\t\t\t\t\t\tthis.exitInterpreter(\"Te saliste pa la izquierda, aweonao\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.currentCell--;\n\t\t\t\t\t\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.puta:\n\t\t\t\t\tif (++this.currentCell === this.cells.length) {\n\t\t\t\t\t\tthis.cells[this.currentCell] = 0n;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.pichula:\n\t\t\t\t\tif (!this.cells[this.currentCell]) {\n\t\t\t\t\t\ti = this.findLoopEnd(this.commands, i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.tula:\n\t\t\t\t\tif (this.cells[this.currentCell]) {\n\t\t\t\t\t\ti = this.findLoopStart(this.commands, i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tbreak;\t\n\t\t\t\tcase Command.pico:\n\t\t\t\t\ti = this.findLoopEnd(this.commands, i);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.ctm:\n\t\t\t\t\tif (this.cells[this.currentCell] >= 0x0 && this.cells[this.currentCell] <= 0x10FFFF) {\n\t\t\t\t\t\tthis.output += String.fromCodePoint(Number(this.cells[this.currentCell]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.output += \"?\";\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.quéweá:\n\t\t\t\t\tif (this.readCommandIndex !== -1) {\n\t\t\t\t\t\tthis.isInputDisabled = true;\n\t\t\t\t\t\tthis.readCommandIndex = -1;\n\n\t\t\t\t\t\tif (this.input.length === 1 || this.input.length === 2) {\n\t\t\t\t\t\t\tconst codePoint = this.input.codePointAt(0);\n\n\t\t\t\t\t\t\tif (this.input.length === 1 || codePoint! >= 0x10000) {\n\t\t\t\t\t\t\t\tthis.cells[this.currentCell] = BigInt(codePoint);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.cells[this.currentCell] = 0n;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isInputDisabled = false;\n\t\t\t\t\t\tthis.readCommandIndex = i;\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.chúpala:\n\t\t\t\t\tthis.output += this.cells[this.currentCell].toString();\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.brígido:\n\t\t\t\t\tif (this.readCommandIndex !== -1) {\n\t\t\t\t\t\tthis.isInputDisabled = true;\n\t\t\t\t\t\tthis.readCommandIndex = -1;\n\n\t\t\t\t\t\tif (this.input.match(/^-?\\d{1,19}$/)) {\n\t\t\t\t\t\t\tconst bigInput = BigInt(this.input);\n\n\t\t\t\t\t\t\tif (bigInput >= -9223372036854775808n && bigInput <= 9223372036854775807n) {\n\t\t\t\t\t\t\t\tthis.cells[this.currentCell] = bigInput;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.cells[this.currentCell] = 0n;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isInputDisabled = false;\n\t\t\t\t\t\tthis.readCommandIndex = i;\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.perkin:\n\t\t\t\t\tif (this.isCopySet) {\n\t\t\t\t\t\tthis.cells[this.currentCell] = this.cellValueCopy;\n\t\t\t\t\t\tthis.isCopySet = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.cellValueCopy = this.cells[this.currentCell];\n\t\t\t\t\t\tthis.isCopySet = true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tbreak;\n\t\t\t\tcase Command.mierda:\n\t\t\t\t\treturn;\t\n\t\t\t}\n\t\t}\t\t\n\t}\n\n\tfindLoopStart(commands: Command[], i: number): number {\n\t\tfor (let j = i - 1, loopLevel = 1; j >= 0; j--) {\n\t\t\tif (commands[j] === \"tula\") {\n\t\t\t\tloopLevel++;\n\t\t\t} else if (commands[j] === \"pichula\") {\n\t\t\t\tloopLevel--;\n\t\t\t}\n\t\t\t\n\t\t\tif (!loopLevel) {\n\t\t\t\treturn j;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\t\n\tfindLoopEnd(commands: Command[], i: number): number {\n\t\tfor (let j = i + 1, loopLevel = 1; j < commands.length; j++) {\n\t\t\tif (commands[j] === \"pichula\") {\n\t\t\t\tloopLevel++;\n\t\t\t} else if (commands[j] === \"tula\") {\n\t\t\t\tloopLevel--;\n\t\t\t}\n\t\t\t\n\t\t\tif (!loopLevel) {\n\t\t\t\treturn j;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\n\texitInterpreter(errorMessage: string): void {\n\t\tthis.errorMessage = errorMessage;\n\t\t$(\"#error-modal\").modal();\n\n\t\tthrow new Error(errorMessage);\n\t}\n}\n\n"]}]}