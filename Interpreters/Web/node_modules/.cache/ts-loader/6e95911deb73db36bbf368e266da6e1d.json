{"remainingRequest":"/Users/pelirodri/Documents/laweavuetesting2/node_modules/ts-loader/index.js??ref--12-1!/Users/pelirodri/Documents/laweavuetesting2/src/components/TheMainSection/TheMainSection.ts?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/pelirodri/Documents/laweavuetesting2/src/components/TheMainSection/TheMainSection.ts","mtime":1570826541336},{"path":"/Users/pelirodri/Documents/laweavuetesting2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pelirodri/Documents/laweavuetesting2/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Vue } from \"vue-property-decorator\";\nimport TheCodeEditor from \"../TheCodeEditor/TheCodeEditor.vue\";\nimport TheOutputManager from \"../TheOutputManager/TheOutputManager.vue\";\nimport TheInputManager from \"../TheInputManager/TheInputManager.vue\";\nimport TheErrorModal from \"../TheErrorModal/TheErrorModal.vue\";\nimport $ from \"jquery\";\nimport { Command } from \"./LaWeáInterpreter\";\nimport Module from \"./run_commands\";\nlet TheMainSection = class TheMainSection extends Vue {\n    constructor() {\n        super(...arguments);\n        this.output = \"\";\n        this.input = \"\";\n        this.isStopButtonDisabled = true;\n        this.isInputDisabled = true;\n        this.errorMessage = \"\";\n    }\n    interpretLaWeá(code) {\n        this.stopRunningCommands();\n        this.output = this.input = \"\";\n        this.commands = [];\n        this.loopStartsCount = this.loopEndsCount = 0;\n        this.getCommands(code);\n        this.isStopButtonDisabled = false;\n        this.runCommands();\n    }\n    getCommands(code) {\n        let commandName = \"\";\n        let line = 1, col = 1;\n        let isComment = false;\n        for (let i = 0; i <= code.length; i++) {\n            if (code[i] === \"#\") {\n                isComment = true;\n            }\n            if (i === code.length || code[i].match(/\\s/) || code[i] === \"#\") {\n                if (commandName.length) {\n                    const command = this.getCommand(commandName, line, col - commandName.length);\n                    if (command === -1) {\n                        this.exitInterpreter(\"'\" +\n                            commandName +\n                            \"'\" +\n                            \" no es un comando válido, po, saco de weas (línea: \" +\n                            String(line) +\n                            \", columna: \" +\n                            String(col - commandName.length) +\n                            \")\");\n                    }\n                    this.commands.push(command);\n                    commandName = \"\";\n                }\n            }\n            else {\n                if (!isComment) {\n                    if (!\"abcdeghiklmnopqrtuwáéíóú\".split(\"\").includes(code[i])) {\n                        this.exitInterpreter(\"'\" +\n                            code[i] +\n                            \"'\" +\n                            \" no es parte de La Weá, tonto qlo (línea: \" +\n                            String(line) +\n                            \", columna: \" +\n                            String(col) + \")\");\n                    }\n                    if (commandName.length === 7) {\n                        this.exitInterpreter(\"Voh creís q yo soy weón, ctm? Te gustan largos, parece (línea: \" +\n                            String(line) +\n                            \", columna: \" +\n                            String(col - commandName.length) +\n                            \")\");\n                    }\n                    commandName += code[i];\n                }\n            }\n            if (code[i] === \"\\n\") {\n                line++;\n                col = 0;\n                isComment = false;\n            }\n            else {\n                col++;\n            }\n        }\n        if (this.loopStartsCount !== this.loopEndsCount) {\n            this.exitInterpreter(\"O te sobran pichulas o te faltan tulas\");\n        }\n    }\n    runCommands(withInput = false) {\n        const typedCommands = new Uint8Array(this.commands);\n        const cmdPtr = Module._malloc(typedCommands.length * typedCommands.BYTES_PER_ELEMENT);\n        Module.HEAPU8.set(typedCommands, cmdPtr);\n        let bytesToWrite = 0;\n        let utf32Input = 0;\n        if (withInput) {\n            bytesToWrite = Module.lengthBytesUTF32(this.input);\n            utf32Input = Module._malloc(bytesToWrite + 4);\n            Module.stringToUTF32(this.input, utf32Input, bytesToWrite + 4);\n        }\n        Module._run_commands(cmdPtr, this.commands.length, utf32Input, bytesToWrite / 4, this.appendToOutputPtr, this.isInputDisabledPtr, this.exitInterpreterPtr);\n        Module._free(cmdPtr);\n        if (withInput) {\n            Module._free(utf32Input);\n        }\n    }\n    exitInterpreter(errorMessage, shouldDisplayError = true) {\n        if (errorMessage !== \"\\n\") {\n            if (shouldDisplayError) {\n                this.errorMessage = errorMessage;\n                $(\"#error-modal\").modal();\n            }\n            console.error(errorMessage);\n        }\n        this.stopRunningCommands();\n    }\n    stopRunningCommands() {\n        Module._stop_running_commands();\n        this.isStopButtonDisabled = true;\n        this.isInputDisabled = true;\n    }\n    getCommand(commandName, line, col) {\n        for (let cmd = 0; cmd < 16; cmd++) {\n            if (commandName === Object.values(Command)[cmd]) {\n                if (cmd === Command.pichula) {\n                    this.loopStartsCount++;\n                }\n                else if (cmd === Command.tula) {\n                    if (this.loopEndsCount === this.loopStartsCount) {\n                        this.exitInterpreter(\"Se encontró una tula sin su respectiva pichula en la línea: \" +\n                            String(line) +\n                            \", columna: \" +\n                            String(col));\n                    }\n                    this.loopEndsCount++;\n                }\n                else if (cmd === Command.pico) {\n                    if (this.loopStartsCount === this.loopEndsCount) {\n                        this.exitInterpreter(\"No debiste meter ese pico en la línea: \" +\n                            String(line) +\n                            \", columna: \" +\n                            String(col));\n                    }\n                }\n                return cmd;\n            }\n        }\n        return -1;\n    }\n    mounted() {\n        this.appendToOutputPtr = Module.addFunction((stringPtr, isNumber) => {\n            this.output += Boolean(isNumber) ? Module.UTF8ToString(stringPtr) : Module.UTF32ToString(stringPtr);\n        });\n        this.isInputDisabledPtr = Module.addFunction((isInputDisabled) => {\n            this.isInputDisabled = Boolean(isInputDisabled);\n            this.$nextTick(() => {\n                if (!this.isInputDisabled) {\n                    this.input = \"\";\n                    this.$refs.inputManager.focusInput();\n                }\n            });\n        });\n        this.exitInterpreterPtr = Module.addFunction((errorMessagePtr, shouldDisplayError) => {\n            this.exitInterpreter(Module.UTF8ToString(errorMessagePtr), Boolean(shouldDisplayError));\n        });\n    }\n};\nTheMainSection = __decorate([\n    Component({\n        components: {\n            TheCodeEditor,\n            TheOutputManager,\n            TheInputManager,\n            TheErrorModal\n        }\n    })\n], TheMainSection);\nexport default TheMainSection;\n",{"version":3,"file":"/Users/pelirodri/Documents/laweavuetesting2/src/components/TheMainSection/TheMainSection.ts","sourceRoot":"","sources":["/Users/pelirodri/Documents/laweavuetesting2/src/components/TheMainSection/TheMainSection.ts?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["import { Component, Vue } from \"vue-property-decorator\";\n\nimport TheCodeEditor from \"../TheCodeEditor/TheCodeEditor.vue\";\nimport TheOutputManager from \"../TheOutputManager/TheOutputManager.vue\";\nimport TheInputManager from \"../TheInputManager/TheInputManager.vue\";\nimport TheErrorModal from \"../TheErrorModal/TheErrorModal.vue\";\n\nimport $ from \"jquery\";\n\nimport { LaWeáInterpreter } from \"./LaWeáInterpreter\";\nimport { Command } from \"./LaWeáInterpreter\";\n\nimport Module from \"./run_commands\";\n\n@Component({\n\tcomponents: {\n\t\tTheCodeEditor,\n\t\tTheOutputManager,\n\t\tTheInputManager,\n\t\tTheErrorModal\n\t}\n})\nexport default class TheMainSection extends Vue implements LaWeáInterpreter {\n\toutput = \"\";\n\tinput = \"\";\n\tisStopButtonDisabled = true;\n\tisInputDisabled = true;\n\terrorMessage = \"\";\n\n\tprivate commands!: Command[];\n\n\tprivate loopStartsCount!: number;\n\tprivate loopEndsCount!: number;\n\n\tprivate appendToOutputPtr!: number;\n\tprivate isInputDisabledPtr!: number;\n\tprivate exitInterpreterPtr!: number;\n\n\tinterpretLaWeá(code: string): void {\n\t\tthis.stopRunningCommands();\n\n\t\tthis.output = this.input = \"\";\n\n\t\tthis.commands = [];\n\t\tthis.loopStartsCount = this.loopEndsCount = 0;\n\n\t\tthis.getCommands(code);\n\t\tthis.isStopButtonDisabled = false;\n\t\tthis.runCommands();\n\t}\n\n\tgetCommands(code: string): void {\t\n\t\tlet commandName = \"\";\n\t\tlet line = 1, col = 1;\n\t\tlet isComment = false;\n\t\t\t\t\n\t\tfor (let i = 0; i <= code.length; i++) {\t\t\t\t\t\t\t\t\t\n\t\t\tif (code[i] === \"#\") {\n\t\t\t\tisComment = true;\n\t\t\t}\n\t\t\t\n\t\t\tif (i === code.length || code[i].match(/\\s/) || code[i] === \"#\") {\n\t\t\t\tif (commandName.length) {\n\t\t\t\t\tconst command = this.getCommand(commandName, line, col - commandName.length);\n\n\t\t\t\t\tif (command === -1) {\n\t\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\t\"'\" +\n\t\t\t\t\t\t\tcommandName +\n\t\t\t\t\t\t\t\"'\" +\n\t\t\t\t\t\t\t\" no es un comando válido, po, saco de weas (línea: \" +\n\t\t\t\t\t\t\tString(line) +\n\t\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\t\tString(col - commandName.length) +\n\t\t\t\t\t\t\t\")\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.commands.push(command!);\n\t\t\t\t\tcommandName = \"\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!isComment) {\n\t\t\t\t\tif (!\"abcdeghiklmnopqrtuwáéíóú\".split(\"\").includes(code[i])) {\n\t\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\t\"'\" +\n\t\t\t\t\t\t\tcode[i] +\n\t\t\t\t\t\t\t\"'\" +\n\t\t\t\t\t\t\t\" no es parte de La Weá, tonto qlo (línea: \" +\n\t\t\t\t\t\t\tString(line) +\n\t\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\t\tString(col) + \")\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (commandName.length === 7) {\n\t\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\t\"Voh creís q yo soy weón, ctm? Te gustan largos, parece (línea: \" +\n\t\t\t\t\t\t\tString(line) +\n\t\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\t\tString(col - commandName.length) +\n\t\t\t\t\t\t\t\")\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcommandName += code[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (code[i] === \"\\n\") {\n\t\t\t\tline++;\n\t\t\t\tcol = 0;\n\t\t\t\t\n\t\t\t\tisComment = false;\n\t\t\t} else {\n\t\t\t\tcol++;\n\t\t\t}\n\t\t}\n\n\t\tif (this.loopStartsCount !== this.loopEndsCount) {\n\t\t\tthis.exitInterpreter(\"O te sobran pichulas o te faltan tulas\");\n\t\t}\t\n\t}\n\n\trunCommands(withInput = false): void {\n\t\tconst typedCommands = new Uint8Array(this.commands);\n\t\tconst cmdPtr = Module._malloc(typedCommands.length * typedCommands.BYTES_PER_ELEMENT);\n\n\t\tModule.HEAPU8.set(typedCommands, cmdPtr);\n\n\t\tlet bytesToWrite = 0;\n\t\tlet utf32Input = 0;\n\n\t\tif (withInput) {\n\t\t\tbytesToWrite = Module.lengthBytesUTF32(this.input);\n\t\t\tutf32Input = Module._malloc(bytesToWrite + 4);\n\n\t\t\tModule.stringToUTF32(this.input, utf32Input, bytesToWrite + 4);\n\t\t}\t\n\n\t\tModule._run_commands(\n\t\t\tcmdPtr,\n\t\t\tthis.commands.length,\n\t\t\tutf32Input,\n\t\t\tbytesToWrite / 4,\n\t\t\tthis.appendToOutputPtr,\n\t\t\tthis.isInputDisabledPtr,\n\t\t\tthis.exitInterpreterPtr\n\t\t);\n\n\t\tModule._free(cmdPtr);\n\n\t\tif (withInput) {\n\t\t\tModule._free(utf32Input);\n\t\t}\n\t}\n\n\texitInterpreter(errorMessage: string, shouldDisplayError = true): void {\n\t\tif (errorMessage !== \"\\n\") {\n\t\t\tif (shouldDisplayError) {\n\t\t\t\tthis.errorMessage = errorMessage;\n\t\t\t\t$(\"#error-modal\").modal();\n\t\t\t}\n\n\t\t\tconsole.error(errorMessage);\n\t\t}\n\n\t\tthis.stopRunningCommands();\n\t}\n\n\tstopRunningCommands() {\n\t\tModule._stop_running_commands();\n\n\t\tthis.isStopButtonDisabled = true;\n\t\tthis.isInputDisabled = true;\n\t}\n\n\tprivate getCommand(commandName: string, line: number, col: number): Command {\n\t\tfor (let cmd = 0; cmd < 16; cmd++) {\n\t\t\tif (commandName === Object.values(Command)[cmd]) {\n\t\t\t\tif (cmd === Command.pichula) {\n\t\t\t\t\tthis.loopStartsCount++;\n\t\t\t\t} else if (cmd === Command.tula) {\n\t\t\t\t\tif (this.loopEndsCount === this.loopStartsCount) {\n\t\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\t\"Se encontró una tula sin su respectiva pichula en la línea: \" + \n\t\t\t\t\t\t\tString(line) + \n\t\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\t\tString(col)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.loopEndsCount++;\n\t\t\t\t} else if (cmd === Command.pico) {\n\t\t\t\t\tif (this.loopStartsCount === this.loopEndsCount) {\n\t\t\t\t\t\tthis.exitInterpreter(\n\t\t\t\t\t\t\t\"No debiste meter ese pico en la línea: \" +\n\t\t\t\t\t\t\tString(line) +\n\t\t\t\t\t\t\t\", columna: \" +\n\t\t\t\t\t\t\tString(col)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn cmd as Command;\n\t\t\t}\n\t\t}\n\n\t\treturn -1 as Command;\n\t}\n\n\tmounted(): void {\n\t\tthis.appendToOutputPtr = Module.addFunction((stringPtr: number, isNumber: number) => {\n\t\t\tthis.output += Boolean(isNumber) ? Module.UTF8ToString(stringPtr) : Module.UTF32ToString(stringPtr);\n\t\t})\n\n\t\tthis.isInputDisabledPtr = Module.addFunction((isInputDisabled: number) => {\n\t\t\tthis.isInputDisabled = Boolean(isInputDisabled);\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tif (!this.isInputDisabled) {\n\t\t\t\t\tthis.input = \"\";\n\t\t\t\t\t(this.$refs.inputManager as TheInputManager).focusInput();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tthis.exitInterpreterPtr = Module.addFunction((errorMessagePtr: number, shouldDisplayError: number) => {\n\t\t\tthis.exitInterpreter(Module.UTF8ToString(errorMessagePtr), Boolean(shouldDisplayError));\n\t\t});\n\t}\n}\n"]}]}